<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="UTF-8">
	<title></title>
</head>
<body>
	view the console for output.
	<script src="console.js"></script>
	<script>
		
		var urls = ["defs.xml", "map.xml", "characters.xml"], url, code;
		var codes = [200, 404, 200];
		
		function loadData(url) {
			// fake a file load.
			var t = new Date().getTime() + Math.random()*300 + 300;
			while (new Date().getTime() < t) {}
			return codes[i];
		}
		
		//console.clear(); // note: Safari's timing for console.clear is broken (it runs after the current stack)
		
		console.time("Total time");
		console.group("Load data files");
		console.log("Loading %i files", urls.length);
		
		console.groupCollapsed("Results");
		for (var i = 0; url = urls[i]; i++) {
			code = loadData(url);
			console.count("load file");
			if (code != 200) { console.warn(url, code); }
			else { console.log(url, "OK"); }
		}
		console.groupEnd();
		
		console.timeEnd("Total time");
		console.groupEnd();
		
	</script>
</body>
</html>